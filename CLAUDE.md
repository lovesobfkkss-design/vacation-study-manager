# ë°©í•™íŠ¹ê°• ê´€ë¦¬í”„ë¡œê·¸ë¨

## í”„ë¡œì íŠ¸ ê°œìš”

í•™ì› í•™ìƒê³¼ êµì‚¬ë¥¼ ìœ„í•œ ì¢…í•© í•™ìŠµ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

| í•­ëª© | ë‚´ìš© |
|------|------|
| **í”„ë¡œì íŠ¸ëª…** | ë°©í•™íŠ¹ê°• ê´€ë¦¬í”„ë¡œê·¸ë¨ |
| **ì›¹ì‚¬ì´íŠ¸** | https://vacation-check-91a6b.web.app |
| **Firebase í”„ë¡œì íŠ¸** | vacation-check-91a6b |
| **ìµœì¢… ì—…ë°ì´íŠ¸** | 2026-01-21 |

---

## ê¸°ìˆ  ìŠ¤íƒ

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| Frontend | Vanilla JavaScript (ES6+), HTML5, CSS3 |
| Backend | Firebase (Auth, Firestore) |
| AI APIs | Gemini, GPT-4V, Claude (ì´ë¯¸ì§€ ë¶„ì„) |
| Charts | Chart.js |
| PDF | PDF.js |
| Hosting | Firebase Hosting |
| Testing | Playwright |

---

## íŒŒì¼ êµ¬ì¡°

```
â”œâ”€â”€ index.html          # ë©”ì¸ HTML (ëª¨ë“  ë·° í¬í•¨)
â”œâ”€â”€ script.js           # ëª¨ë“  JavaScript ë¡œì§ (~13,000ì¤„)
â”œâ”€â”€ styles.css          # ëª¨ë“  CSS ìŠ¤íƒ€ì¼
â”œâ”€â”€ firebase.json       # Firebase Hosting ì„¤ì •
â”œâ”€â”€ .firebaserc         # Firebase í”„ë¡œì íŠ¸ ì„¤ì •
â”œâ”€â”€ deploy.bat          # Windows ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ CLAUDE.md           # ì´ íŒŒì¼ (ê°œë°œ ê°€ì´ë“œ)
â””â”€â”€ .moai/              # MoAI-ADK ì„¤ì •
    â””â”€â”€ config/sections/
        â”œâ”€â”€ user.yaml       # ì‚¬ìš©ì ì„¤ì •
        â””â”€â”€ language.yaml   # ì–¸ì–´ ì„¤ì •
```

---

## ì£¼ìš” ê¸°ëŠ¥

### í•™ìƒ ê¸°ëŠ¥
- ğŸ“š **í•™ìŠµ íƒ€ì´ë¨¸**: ì‹¤ì‹œê°„ ê³µë¶€ ì‹œê°„ ì¸¡ì •
- âœ… **ê³¼ì œ ê´€ë¦¬**: ê³¼ëª©ë³„ í•„í„°ë§, ì™„ë£Œ ì²´í¬
- ğŸ“Š **ì„±ì  ê¸°ë¡**: ì‹œí—˜ ì ìˆ˜ ì…ë ¥ ë° ì¶”ì 
- ğŸ“ˆ **AI í•™ìŠµ ë¦¬í¬íŠ¸**: ì£¼ê°„/ì›”ê°„ ë¶„ì„ (Gemini/GPT/Claude)
- ğŸ† **ë­í‚¹**: í•™ì› ë‚´/ì „êµ­ ë­í‚¹ í™•ì¸
- ğŸ“· **ì˜¤ë‹µ ë¶„ì„**: ì±„ì ëœ ì‹œí—˜ì§€ ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ AIê°€ í‹€ë¦° ë¬¸ì œ í•´ì„¤

### êµì‚¬(ê´€ë¦¬ì) ê¸°ëŠ¥
- ğŸ‘¨â€ğŸ“ **í•™ìƒ ê´€ë¦¬**: ìœˆí„°/ì™¸ë¶€ êµ¬ë¶„, ì •ë ¬ (ìœˆí„°â†’ì™¸ë¶€â†’ì§„í–‰ë¥ ìˆœ)
- ğŸ“ **í‰ê°€ ê¸°ë¡**: ì§‘ì¤‘ë ¥, ìˆ™ì œ, íƒœë„, ì´í•´ë„ (1-5ì )
- ğŸ’¬ **ìƒë‹´ ë©”ëª¨**: í•™ìƒë³„ ë©”ëª¨ ê¸°ë¡
- âš ï¸ **ìœ„í—˜êµ° ëª¨ë‹ˆí„°ë§**: ê²½ê³  í•™ìƒ ì•Œë¦¼
- ğŸ”” **í† í° ê´€ë¦¬**: ì¶©ì „, ì‚¬ìš© ë‚´ì—­, ì”ì•¡ í™•ì¸
- ğŸ“Š **AI í•´ì„¤ ìƒì„±**: ë¬¸ì œ ì´ë¯¸ì§€ â†’ AI í•´ì„¤ ìƒì„±

---

## í•µì‹¬ ì‹œìŠ¤í…œ

### 1. í•™ìƒ ì •ë ¬ ì‹œìŠ¤í…œ (renderStudentList)

```javascript
// ì •ë ¬ ìˆœì„œ:
// 1. ìœˆí„°(winter) í•™ìƒ ë¨¼ì €
// 2. ì™¸ë¶€(external) í•™ìƒ ë‹¤ìŒ
// 3. ì§„í–‰ë¥ (progress) ë†’ì€ ìˆœ
// 4. ê³µë¶€ ì‹œê°„(liveSeconds) ë§ì€ ìˆœ
// 5. ì´ë¦„ ê°€ë‚˜ë‹¤ìˆœ

const normalizeType = (type) => (type || "").toString().trim().toLowerCase();
const typeRank = (type) => {
  const t = normalizeType(type);
  return t === "winter" ? 0 : t === "external" ? 1 : 2;
};
```

### 2. í† í° ìš”ê¸ˆ ì‹œìŠ¤í…œ

```javascript
// ì´ë¯¸ì§€ ê°œìˆ˜ ê¸°ë°˜ ë‹¨ê³„ë³„ ìš”ê¸ˆ
function calculateTokenCost(problem) {
  // í…ìŠ¤íŠ¸ë§Œ: 1í† í°
  // ì´ë¯¸ì§€ 1ê°œ: 2í† í°
  // ì´ë¯¸ì§€ 2ê°œ ì´ìƒ: 3í† í°
}
```

### 3. AI ì´ë¯¸ì§€ ë¶„ì„ (í‹€ë¦° ë¬¸ì œ ì¸ì‹)

```javascript
// ì±„ì ëœ ì‹œí—˜ì§€ ë¶„ì„ í”„ë¡¬í”„íŠ¸
// - X í‘œì‹œ = í‹€ë¦° ë¬¸ì œ (ë¶„ì„ ëŒ€ìƒ)
// - O í‘œì‹œ = ë§ì€ ë¬¸ì œ (ë¬´ì‹œ)
// í•¨ìˆ˜: analyzeImageWithGemini, analyzeImageWithGPT, analyzeImageWithClaude
```

### 4. í‹€ë¦° ë¬¸ì œ í™•ì¸ ë‹¨ê³„

```javascript
// AI ë¶„ì„ í›„ ì‚¬ìš©ìê°€ í™•ì¸/ìˆ˜ì • ê°€ëŠ¥
// 1. extractWrongProblemNumbers() - ë¬¸ì œ ë²ˆí˜¸ ì¶”ì¶œ
// 2. showWrongProblemConfirmation() - ì²´í¬ë°•ìŠ¤ UI í‘œì‹œ
// 3. confirmWrongProblems() - í™•ì¸ í›„ í•„í„°ë§ ë° ì €ì¥
```

---

## Firestore ì»¬ë ‰ì…˜ êµ¬ì¡°

```
users/
  â””â”€â”€ {uid}/
      â”œâ”€â”€ role: "student" | "teacher" | "admin"
      â”œâ”€â”€ academyId: string
      â”œâ”€â”€ managementType: "winter" | "external"
      â””â”€â”€ name, email, grade...

academies/
  â””â”€â”€ {academyId}/
      â”œâ”€â”€ tokenBalance: number
      â”œâ”€â”€ students/ (subcollection)
      â”œâ”€â”€ studentAnalysis/ (subcollection)
      â””â”€â”€ tokenHistory/ (subcollection)

dailyRecords/
  â””â”€â”€ {date}_{uid}/
      â”œâ”€â”€ progress: number (0-100)
      â”œâ”€â”€ timerRunning: boolean
      â””â”€â”€ seconds: number
```

---

## ë°°í¬

### ë°©ë²• 1: deploy.bat (ê¶Œì¥)
```
deploy.bat ë”ë¸”í´ë¦­
```

### ë°©ë²• 2: CLI
```bash
firebase login
firebase deploy --only hosting
```

### ë°°í¬ í›„ í™•ì¸
1. ì‚¬ì´íŠ¸ ì ‘ì†: https://vacation-check-91a6b.web.app
2. ë¸Œë¼ìš°ì € ê°•ë ¥ ìƒˆë¡œê³ ì¹¨: `Ctrl + Shift + R`

---

## ë””ë²„ê¹…

### ì½˜ì†” ë¡œê·¸ í™•ì¸
- `F12` â†’ Console íƒ­
- `ğŸ“Š ì •ë ¬ ì „:` / `ğŸ“Š ì •ë ¬ í›„:` - í•™ìƒ ì •ë ¬ ë””ë²„ê·¸
- `ğŸ“Š ë¶„ì„ ìš”ì²­:` - AI ë¶„ì„ ë””ë²„ê·¸

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

| ë¬¸ì œ | í•´ê²° |
|------|------|
| ì •ë ¬ ì•ˆë¨ | ë°°í¬ í™•ì¸ + Ctrl+Shift+R |
| API í‚¤ ì˜¤ë¥˜ | í•´ì„¤ ë³´ê¸° íƒ­ì—ì„œ API í‚¤ ì¬ì„¤ì • |
| í† í° ë¶€ì¡± | ê´€ë¦¬ì â†’ í† í° ì¶©ì „ |

---

## ìµœê·¼ ë³€ê²½ì‚¬í•­ (2026-01-21)

- âœ… í•™ìƒ ì •ë ¬ ê¸°ëŠ¥ (ìœˆí„°â†’ì™¸ë¶€â†’ì§„í–‰ë¥ ìˆœ)
- âœ… ì´ë¯¸ì§€ ê¸°ë°˜ í† í° ìš”ê¸ˆì œ (1/2/3 í† í°)
- âœ… AI í‹€ë¦° ë¬¸ì œ ì¸ì‹ ê°œì„  (X í‘œì‹œ ì¸ì‹)
- âœ… í‹€ë¦° ë¬¸ì œ í™•ì¸ ë‹¨ê³„ ì¶”ê°€ (ì²´í¬ë°•ìŠ¤ UI)
- âœ… ë””ë²„ê·¸ ë¡œê·¸ ì¶”ê°€

---

# Alfred ì‹¤í–‰ ì§€ì¹¨

## í•µì‹¬ ê·œì¹™

- [HARD] **í•œêµ­ì–´ ì‘ë‹µ**: conversation_languageê°€ koì´ë¯€ë¡œ ëª¨ë“  ì‘ë‹µì€ í•œêµ­ì–´ë¡œ
- [HARD] **ë³€ê²½ í›„ ì»¤ë°‹**: ì¤‘ìš”í•œ ë³€ê²½ì€ ë°˜ë“œì‹œ git commit (ë‹¤ë¥¸ ì‘ì—…ìœ¼ë¡œ ë®ì–´ì“°ê¸° ë°©ì§€)
- [HARD] **ë°°í¬ ì•ˆë‚´**: ì½”ë“œ ìˆ˜ì • í›„ deploy.bat ì‹¤í–‰ ì•ˆë‚´

## ì´ í”„ë¡œì íŠ¸ ì‘ì—… ì‹œ ì£¼ì˜ì‚¬í•­

1. **script.jsê°€ ë§¤ìš° í¼** (~13,000ì¤„) - í•„ìš”í•œ ë¶€ë¶„ë§Œ ì½ê¸°
2. **Vanilla JS** - React/Vue ì•„ë‹˜, DOM ì§ì ‘ ì¡°ì‘
3. **Firebase ì‹¤ì‹œê°„** - Firestore ë¦¬ìŠ¤ë„ˆ ì‚¬ìš©
4. **ë‹¤ì¤‘ AI API** - Gemini, GPT, Claude ëª¨ë‘ ì§€ì›

## ìì£¼ ìˆ˜ì •í•˜ëŠ” ì˜ì—­

| ê¸°ëŠ¥ | ìœ„ì¹˜ (ëŒ€ëµì ì¸ ì¤„ ë²ˆí˜¸) |
|------|------------------------|
| í•™ìƒ ì •ë ¬ | ~2500ì¤„ (renderStudentList) |
| í† í° ê³„ì‚° | ~400ì¤„ (calculateTokenCost) |
| AI ì´ë¯¸ì§€ ë¶„ì„ | ~12500ì¤„ (analyzeImageWith*) |
| í‹€ë¦° ë¬¸ì œ í™•ì¸ | ~12930ì¤„ (showWrongProblemConfirmation) |

---

## ì„¤ì • íŒŒì¼ ì°¸ì¡°

```yaml
# .moai/config/sections/user.yaml
user:
  name: "Lucy"

# .moai/config/sections/language.yaml
language:
  conversation_language: ko
```

---

Version: 11.0.0
Last Updated: 2026-01-21
